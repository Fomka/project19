FUNCTION ZPMP001_1_MODIFY .
*"----------------------------------------------------------------------
*"*"Локальный интерфейс:
*"  IMPORTING
*"     REFERENCE(IT_RECORDS) TYPE  ZPMP001_1_TABLE_TYPE
*"  EXPORTING
*"     REFERENCE(O_NUM_OF_PROCESSED) TYPE  I
*"  EXCEPTIONS
*"      DB_ERROR
*"----------------------------------------------------------------------

"Обновить все записи за один раз
  Update ZPMP001_1
    from table it_records.
  If sy-subrc <> 0.
  "Если хотя бы одна запись не обновилась, то отменить все изменения и выйти
    Rollback work.
    Raise DB_ERROR.
  Else.
    o_num_of_processed = sy-dbcnt.
  Endif.

"Успешно обновлены все записи — подтвердить все изменения
  Commit work and wait.

Endfunction.